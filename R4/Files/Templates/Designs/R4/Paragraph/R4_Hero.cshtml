@inherits Dynamicweb.Rendering.ViewModelTemplate<Dynamicweb.Frontend.ParagraphViewModel>
@using Dynamicweb.Frontend

<div class="item item-fluid">   
    <div class="position-relative overflow-hidden d-flex justify-content-center align-items-center" style="min-height:700px;">
        @if (!string.IsNullOrEmpty(Model.Item.GetString("Image")))
        {
            string imagePath = Model.Item?.GetFile("Image")?.Path ?? "";
            imagePath = "/Admin/Public/GetImage.ashx?width=" + 1920 + "&height=" + 845 + "&image=" + imagePath + "&Format=WebP&Quality=100";

            int xPos = Model.Item?.GetItem("Content")?.GetFile("Image")?.FocalPositionFromLeft ?? 50;
            int yPos = Model.Item?.GetItem("Content")?.GetFile("Image")?.FocalPositionFromTop ?? 50;

            <figure class="position-absolute top-0 h-100 w-100">
                <img loading="lazy" src="@imagePath" style="object-fit: cover; object-position: @(xPos)% @(yPos)%" class="w-100 h-100" title="@Model.Item.GetString("Title")" alt="@Model.Item.GetString("Title")" />
            </figure>
        }
        <div class="position-relative top-0 h-100 w-100">
            <div class="d-flex justify-content-center align-items-center h-100 text-white">
                <div style="max-width:700px;">
                    @if (!string.IsNullOrEmpty(Model.Item.GetString("Title")) && !Model.Item.GetBoolean("HideTitle"))
                    {
                        <h2 class="h2">@Model.Item.GetString("Title")</h2>
                    }
                    @if (!string.IsNullOrEmpty(Model.Item.GetString("Text")))
                    {
                        <p>@Model.Item.GetString("Text")</p>
                    }
                    @if (!string.IsNullOrEmpty(Model.Item.GetString("ButtonLink")) && !string.IsNullOrEmpty(Model.Item.GetString("ButtonLabel")))
                    {
                        <div>
                            <a href="@Model.Item.GetString("ButtonLink")" class="btn btn-primary btn-giant">@Model.Item.GetString("ButtonLabel")</a>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>