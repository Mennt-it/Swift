@inherits Dynamicweb.Rendering.ViewModelTemplate<Dynamicweb.Frontend.ParagraphViewModel>
@using Dynamicweb.Frontend

@{
	string ratio = Model.Item?.GetList("ImageAspectRatio")?.SelectedValue != "0" && Model.Item?.GetList("ImageAspectRatio")?.SelectedValue != "" ? Model.Item.GetList("ImageAspectRatio").SelectedValue : "";
	string ratioCssClass = ratio != "" && ratio != "fill" ? "ratio" : "";
	string ratioVariable = ratio != "" ? "style=\"--bs-aspect-ratio: " + Model.Item.GetList("ImageAspectRatio").SelectedValue + "\"" : "";
	string fillClass = ratio == "fill" ? "h-100" : "";

	var parms = new Dictionary<string, object>();
	parms.Add("loading", "lazy");
	parms.Add("cssClass", "w-100");
	parms.Add("style", "");
	parms.Add("alt", "");
}

@if (!string.IsNullOrEmpty(Model.Item.GetString("Image"))) {
	<figure class="m-0 @ratioCssClass @fillClass" @ratioVariable>
		@RenderPartial("Components/Image.cshtml", Model, parms)
	</figure>
}
