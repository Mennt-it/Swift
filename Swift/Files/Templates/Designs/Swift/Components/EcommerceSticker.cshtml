@inherits ViewModelTemplate<ProductViewModel>
@using Dynamicweb.Ecommerce.ProductCatalog
@using Dynamicweb.Frontend
@using Dynamicweb.Rendering
@using Dynamicweb.Ecommerce.ProductCatalog

@{

	var paragraphViewModel = Dynamicweb.Frontend.ContentViewModelFactory.CreateParagraphInfoViewModel(Pageview.CurrentParagraph);

	Dictionary<string, string> stickers = new Dictionary<string, string>();

	FieldValueViewModel availableStickersObject;
	Model.ProductFields.TryGetValue("Stickers", out availableStickersObject);

	if (availableStickersObject != null) {
		List<FieldOptionValueViewModel> availableStickers = (List<FieldOptionValueViewModel>)availableStickersObject.Value;
		var selectedStickers = paragraphViewModel.Item.GetList("Stickers").SelectedOptions;

		foreach (ListOptionViewModel selectedOption in selectedStickers) {
			foreach (FieldOptionValueViewModel availableOption in availableStickers) { 
				if (selectedOption.Value == availableOption.Value)
				{
					stickers.Add(selectedOption.Name, selectedOption.Value);
				}
			}
		}
	}
}

@if (stickers.Count > 0) {
	<div class="position-absolute top-0 left-0 p-2 p-lg-3">
		@foreach (var option in stickers) {
			<span class="badge bg-black">@option.Key</span>
		}
	</div>
}

