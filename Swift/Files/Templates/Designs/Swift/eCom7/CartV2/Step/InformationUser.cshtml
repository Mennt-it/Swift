@inherits Dynamicweb.Rendering.RazorTemplateBase<Dynamicweb.Rendering.RazorTemplateModel<Dynamicweb.Rendering.Template>>
@using Dynamicweb
@using Dynamicweb.Rendering
@using System.IO

@{ 
	List<string> addressList = new List<string>();
	if (!string.IsNullOrEmpty(GetString("UserManagement:User.Address")))
	{
		addressList.Add(GetString("UserManagement:User.Address"));
	}
	if (!string.IsNullOrEmpty(GetString("UserManagement:User.Zip")))
	{
		addressList.Add(GetString("UserManagement:User.Zip"));
	}
	if (!string.IsNullOrEmpty(GetString("UserManagement:User.City")))
	{
		addressList.Add(GetString("UserManagement:User.City"));
	}
	string addressString = (string.Join(",", addressList.Select(x => x.ToString()).ToArray()));
}

<div class="_row grid gap-0">
	<div class="_col-lg-8 g-col-lg-8 py-3 py-lg-5 pe-lg-5 order-last order-lg-first">
		<form name="ordersubmit" id="ordersubmit" method="post" autocomplete="off">

			@RenderLogo()

			@RenderStepsBreadcrumbs()

			@RenderErrors()

			@RenderStepSummary()

			<input type="hidden" id="CurrentStep" />
			<input type="hidden" name="EcomOrderCustomerEmail" value="@GetString("UserManagement:User.Email")" />
			<input type="hidden" name="EcomOrderCustomerPhone" value="@GetString("UserManagement:User.Phone")" />
			<input type="hidden" name="EcomOrderCustomerCompany" value="@GetString("UserManagement:User.Company")" />
			<input type="hidden" name="EcomOrderCustomerAddress" value="@GetString("UserManagement:User.Address")" />
			<input type="hidden" name="EcomOrderCustomerZip" value="@GetString("UserManagement:User.Zip")" />
			<input type="hidden" name="EcomOrderCustomerCity" value="@GetString("UserManagement:User.City")" />
			<input type="hidden" name="EcomOrderCustomerCountry" value="@GetString("UserManagement:User.Country")" />
			<input type="hidden" name="EcomOrderCustomerCountryCode" value="@GetString("UserManagement:User.Country.Code")">

			@RenderAddressUser()

			@if (!string.IsNullOrWhiteSpace(addressString)) { 
				@RenderStepsNavigation()
			}
		</form>
	</div>

	@RenderSummarySidebar()

</div>

@Include("Helpers/Logo.cshtml")
@Include("Helpers/StepsBreadcrumbs.cshtml")
@Include("Helpers/Errors.cshtml")
@Include("Helpers/StepSummary.cshtml")
@Include("Helpers/AddressUser.cshtml")
@Include("Helpers/StepsNavigation.cshtml")
@Include("Helpers/SummarySidebar.cshtml")
