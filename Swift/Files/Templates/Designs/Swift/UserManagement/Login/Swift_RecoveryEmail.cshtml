@inherits RazorTemplateBase<RazorTemplateModel<Template>>
@using Dynamicweb.Rendering;

@{
	var emailId = Dynamicweb.Services.Pages.GetPageByNavigationTag(Pageview.AreaID, "SwiftRecoveryEmail").ID;
	var emailPageview = Dynamicweb.Frontend.PageView.GetPageviewByPageID(emailId);
	emailPageview.Redirect = false;
	emailPageview.Load();
	var emailMarkup = emailPageview.Output();
	string recoveryUrl = GetString("DWPasswordRecoveryUrl").Replace("LoginAction=Recovery&", "");
	emailMarkup = emailMarkup.Replace("{{Swift.SystemEmail.Link.Recovery}}", recoveryUrl);
	emailMarkup = emailMarkup.Replace("{{Swift.SystemEmail.User.Name}}", GetString("DWExtranetUsername"));
}

@emailMarkup
