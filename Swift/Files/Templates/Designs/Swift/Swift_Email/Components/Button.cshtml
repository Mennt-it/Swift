@inherits Dynamicweb.Rendering.ViewModelTemplate<Dynamicweb.Frontend.LinkViewModel>

@functions 
{
	private string GetTableReset()
	{
		return "border:0;margin:0;outline:0;padding:0;";
	}
}

@{ 
	var backgroundColor = GetViewParameter("backgroundColor");
	var foregroundColor = GetViewParameter("foregroundColor");
	var borderColor = GetViewParameterString("borderColor");
	var align = GetViewParameterString("align");
	var title = GetViewParameterString("title");
	var link = Model.Url;
	var uri = Dynamicweb.Context.Current.Request.Url;
	var hostname = uri.Scheme + Uri.SchemeDelimiter + uri.Host;
}

<table border="0" cellpadding="0" cellspacing="0" style="border-collapse:separate;mso-table-lspace:0pt;mso-table-rspace:0pt;@GetTableReset()width:100%;box-sizing:border-box;min-width:100% !important;" width="100%">
	<tbody>
		<tr style="@GetTableReset()">
			<td align="@align" style="@GetTableReset()vertical-align:top;" valign="top">

				<!--[if mso]>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr style="@GetTableReset()">
						<td align="@align" style="@GetTableReset()background-color:@(backgroundColor);">
							<a href="@link" target="_blank" style="font-family:inherit,sans-serif;line-height:16px;font-size:16px;font-weight:bold;text-decoration:none;bold;padding-top:14px;padding-right:24px;padding-bottom:14px;padding-left:24px;border:1px solid @(backgroundColor); display: inline-block;color:@foregroundColor;">@title</a>
						</td>
					</tr>
				</table>
				<![endif]-->

				<table border="0" cellpadding="0" cellspacing="0" style="mso-hide:all;@GetTableReset()">
					<tr style="@GetTableReset()">
						<td align="@align" valign="middle" bgcolor="@(backgroundColor)" style="font-family:inherit,sans-serif;line-height:16px;font-size:16px;font-weight:bold;padding-top:14px;padding-right:24px;padding-bottom:14px;padding-left:24px;">
							<a href="@link" target="_blank" style="text-decoration:none; color:@(foregroundColor);">
								<span style="color:@(foregroundColor);">@title</span>
							</a>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</tbody>
</table>
