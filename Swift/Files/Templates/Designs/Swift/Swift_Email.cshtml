@inherits Dynamicweb.Rendering.ViewModelTemplate<Dynamicweb.Frontend.PageViewModel>
@MasterPageFile("Swift_EmailBase.cshtml")

@{
	var settings = Dynamicweb.Frontend.ContentViewModelFactory.CreatePageInfoViewModel(Pageview.Page.Parent).Item;
	bool isEmail = Model.ItemType == "Swift_Email";
	int header = settings.GetLink("Header").PageId;
	int footer = settings.GetLink("Footer").PageId;
}

@if (isEmail)
{
	<span class="preheader" style="color: transparent; display: none; height: 0; max-height: 0; max-width: 0; opacity: 0; overflow: hidden; mso-hide: all; visibility: hidden; width: 0;">{{EmailMarketing:Email.PreHeader.Clean}}</span>
}

@if (isEmail && header != 0)
{
	<!-- START HEADER -->
	@RenderGrid(header)
	<!-- END FOOTER -->
}

@Model.Grid("Grid", "Email Grid", "default:true;sort:1", "Email")

@if (isEmail && footer != 0)
{
	<!-- START FOOTER -->
	@RenderGrid(footer)
	<!-- END FOOTER -->
}
